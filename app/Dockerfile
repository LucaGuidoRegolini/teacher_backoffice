FROM node:alpine

ARG JWT_SECRET

ARG MONGO_URL

ARG APP_PORT

ARG BRAVE_SMTP_HOST
ARG BRAVE_SMTP_PORT
ARG BRAVE_SMTP_USER
ARG BRAVE_SMTP_PASS


ENV JWT_SECRET=${JWT_SECRET}
ENV MONGO_URL=${MONGO_URL}
ENV APP_PORT=${APP_PORT}

ENV MAIL_DRIVER="brevo"
ENV EMAIL_ADDRESS="suporte@devs.io"
ENV EMAIL_NAME="Suporte Devs"

ENV BRAVE_SMTP_HOST=${BRAVE_SMTP_HOST}
ENV BRAVE_SMTP_PORT=${BRAVE_SMTP_PORT}
ENV BRAVE_SMTP_USER=${BRAVE_SMTP_USER}
ENV BRAVE_SMTP_PASS=${BRAVE_SMTP_PASS}


WORKDIR /usr/app

COPY . .

COPY ./.docker/entrypoint.sh /entrypoint.sh

RUN chmod +x /entrypoint.sh

EXPOSE $APP_PORT

CMD [ "sh","/entrypoint.sh" ]



